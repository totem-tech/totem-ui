"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = test;

var _api = require("@polkadot/api");

var _testingPairs = _interopRequireDefault(require("@polkadot/keyring/testingPairs"));

// Copyright 2017-2019 @polkadot/api authors & contributors
// This software may be modified and distributed under the terms
// of the Apache-2.0 license. See the LICENSE file for details.
// Simple non-runnable checks to test type definitions in the editor itself
async function test() {
  const api = await _api.ApiPromise.create();
  const keyring = (0, _testingPairs.default)();
  const intentions = await api.query.staking.intentions();
  console.log('intentions:', intentions);
  await api.query.staking.intentions(intentions => {
    console.log('intentions:', intentions);
  });
  await api.rpc.chain.subscribeNewHead(header => {
    console.log('current blockNumber:', header.blockNumber);
  });
  await api.derive.chain.subscribeNewHead(header => {
    console.log('current author:', header.author);
  });
  const transfer = api.tx.balances.transfer(keyring.bob.address, 12345);
  console.log('transfer as Method', transfer);
  console.log('transfer as Extrinsic', transfer);
  const hash = await transfer.signAndSend(keyring.alice);
  console.log('hash:', hash.toHex());
  const unsub = await api.tx.balances.transfer(keyring.bob.address, 12345).signAndSend(keyring.alice, (_ref) => {
    let {
      status
    } = _ref;
    console.log('transfer status:', status.type);
    unsub();
  });
}