"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = injectNodeCompat;

var _types = require("@polkadot/types");

// Copyright 2017-2019 @polkadot/api authors & contributors
// This software may be modified and distributed under the terms
// of the Apache-2.0 license. See the LICENSE file for details.
const ANY_VERSION = 0xffffff;
const types = [{
  nodeSpecs: [['node', 77], ['polkadot', 1000], ['node-template', ANY_VERSION], ['edgeware', ANY_VERSION]],
  types: {
    'EventRecord': _types.EventRecord_0_76
  }
}];

function injectNodeCompat(_ref) {
  let {
    specName,
    specVersion
  } = _ref;
  types.filter((_ref2) => {
    let {
      nodeSpecs
    } = _ref2;
    return nodeSpecs.some((_ref3) => {
      let [name, version] = _ref3;
      return specName.eq(name) && specVersion.ltn(version);
    });
  }).forEach((_ref4) => {
    let {
      types
    } = _ref4;
    (0, _types.getTypeRegistry)().register(types);
  });
}